<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="IntroductionIn this post I will be solving some programming problems with JS andHaskell. This gives a side by side comparison of the two languages and Ithought it would be interesting to see the simil">
<meta property="og:type" content="article">
<meta property="og:title" content="JS to Haskell">
<meta property="og:url" content="http://example.com/2017/11/30/JS-to-Haskell/index.html">
<meta property="og:site_name" content="Personal Blog">
<meta property="og:description" content="IntroductionIn this post I will be solving some programming problems with JS andHaskell. This gives a side by side comparison of the two languages and Ithought it would be interesting to see the simil">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-11-30T21:27:44.000Z">
<meta property="article:modified_time" content="2022-06-17T21:10:05.570Z">
<meta property="article:author" content="Devin Miller">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>JS to Haskell</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2017/11/20/Intro-to-Lambda-Calculus/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2017/11/30/JS-to-Haskell/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2017/11/30/JS-to-Haskell/&text=JS to Haskell"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2017/11/30/JS-to-Haskell/&is_video=false&description=JS to Haskell"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JS to Haskell&body=Check out this article: http://example.com/2017/11/30/JS-to-Haskell/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2017/11/30/JS-to-Haskell/&name=JS to Haskell&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2017/11/30/JS-to-Haskell/&t=JS to Haskell"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-1-Christmas-Trees"><span class="toc-number">2.</span> <span class="toc-text">Problem 1 (Christmas Trees)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview"><span class="toc-number">2.1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Details"><span class="toc-number">2.2.</span> <span class="toc-text">Details</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Javascript-Solution"><span class="toc-number">2.3.</span> <span class="toc-text">Javascript Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Haskell-Solution"><span class="toc-number">2.4.</span> <span class="toc-text">Haskell Solution</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-2-Tic-Tac-Toe"><span class="toc-number">3.</span> <span class="toc-text">Problem 2 (Tic Tac Toe)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview-1"><span class="toc-number">3.1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Details-1"><span class="toc-number">3.2.</span> <span class="toc-text">Details</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Javascript-Solution-1"><span class="toc-number">3.3.</span> <span class="toc-text">Javascript Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Haskell-Solution-1"><span class="toc-number">3.4.</span> <span class="toc-text">Haskell Solution</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">4.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        JS to Haskell
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Devin Miller</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-11-30T21:27:44.000Z" itemprop="datePublished">2017-11-30</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a><a href="#Introduction" title="Introduction">Introduction</a></h2><p>In this post I will be solving some programming problems with JS and<br>Haskell. This gives a side by side comparison of the two languages and I<br>thought it would be interesting to see the similarities and differences.<br>Let’s get started.</p>
<h2 id="Problem-1-Christmas-Trees"><a href="#Problem-1-Christmas-Trees" class="headerlink" title="Problem 1 (Christmas Trees)"></a><a href="#Problem-1-Christmas-Trees" title="Problem 1 (Christmas Trees)">Problem 1 (Christmas Trees)</a></h2><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a><a href="#Overview" title="Overview">Overview</a></h3><p>Let’s pretend you are the seller of colorful christmas trees online.<br>Each color has a different price and your job here is to calculate the<br>total cost of christmas tree orders for each customer. Customers can<br>choose the color, lights, and height of each tree.</p>
<h3 id="Details"><a href="#Details" class="headerlink" title="Details"></a><a href="#Details" title="Details">Details</a></h3><table>
<thead>
<tr>
<th>Tree Color</th>
<th>Price</th>
</tr>
</thead>
<tbody><tr>
<td>Red</td>
<td>$250</td>
</tr>
<tr>
<td>Blue</td>
<td>$200</td>
</tr>
<tr>
<td>Yellow</td>
<td>$170</td>
</tr>
<tr>
<td>Green</td>
<td>$200</td>
</tr>
<tr>
<td>Silver</td>
<td>$340</td>
</tr>
<tr>
<td>Gold</td>
<td>$400</td>
</tr>
<tr>
<td>White</td>
<td>$450</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Light Type</th>
<th>Price</th>
</tr>
</thead>
<tbody><tr>
<td>Unlit</td>
<td>$+0</td>
</tr>
<tr>
<td>White</td>
<td>$+15</td>
</tr>
<tr>
<td>Multi-color</td>
<td>$+30</td>
</tr>
<tr>
<td>Single-color</td>
<td>$+20</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Height</th>
<th>Price</th>
</tr>
</thead>
<tbody><tr>
<td>5 feet and under</td>
<td>$+0</td>
</tr>
<tr>
<td>6 feet</td>
<td>$+50</td>
</tr>
<tr>
<td>7 feet</td>
<td>$+100</td>
</tr>
<tr>
<td>8 feet</td>
<td>$+150</td>
</tr>
<tr>
<td>8+ feet</td>
<td>$+200</td>
</tr>
</tbody></table>
<p><em>Note: We can take multiple tree orders at a time<br>We are also assuming that the data entered by the user is valid.</em></p>
<h3 id="Javascript-Solution"><a href="#Javascript-Solution" class="headerlink" title="Javascript Solution"></a><a href="#Javascript-Solution" title="Javascript Solution">Javascript Solution</a></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> trees = &#123;</span><br><span class="line">  <span class="string">&quot;red&quot;</span>:    <span class="number">250</span>,</span><br><span class="line">  <span class="string">&quot;blue&quot;</span>:   <span class="number">200</span>,</span><br><span class="line">  <span class="string">&quot;green&quot;</span>:  <span class="number">200</span>,</span><br><span class="line">  <span class="string">&quot;yellow&quot;</span>: <span class="number">170</span>,</span><br><span class="line">  <span class="string">&quot;silver&quot;</span>: <span class="number">340</span>,</span><br><span class="line">  <span class="string">&quot;gold&quot;</span>:   <span class="number">400</span>,</span><br><span class="line">  <span class="string">&quot;white&quot;</span>:  <span class="number">450</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> lights = &#123;</span><br><span class="line">  <span class="string">&quot;unlit&quot;</span>:  <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;white&quot;</span>:  <span class="number">15</span>,</span><br><span class="line">  <span class="string">&quot;multi&quot;</span>:  <span class="number">30</span>,</span><br><span class="line">  <span class="string">&quot;single&quot;</span>: <span class="number">20</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">heights</span> = x =&gt; &#123; </span><br><span class="line">  <span class="keyword">switch</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> (x &lt;= <span class="number">5</span>): <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> (x &lt;= <span class="number">6</span>): <span class="keyword">return</span> <span class="number">50</span></span><br><span class="line">    <span class="keyword">case</span> (x &lt;= <span class="number">7</span>): <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">    <span class="keyword">case</span> (x &lt;= <span class="number">8</span>): <span class="keyword">return</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">default</span>:       <span class="keyword">return</span> <span class="number">200</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">treeOrder</span> = (<span class="params">...orders</span>) =&gt;</span><br><span class="line">    orders.<span class="title function_">reduce</span>(<span class="function">(<span class="params">t, [tree, type, height]</span>) =&gt;</span></span><br><span class="line">        t += trees[tree] + lights[type] + <span class="title function_">heights</span>(height),<span class="number">0</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Here I create 2 constant lookup tables for <code>trees</code> and <code>lights</code> to store<br>the prices. Height is a little more tricky because there are an infinite<br>number of possibilities the number could be (In a real world situation<br>there would probably be only a set number of sizes to choose from, so a<br>lookup table would be possible). I created a simple switch inside the<br><code>heights</code> function to account for the varient in potential input.</p>
<p>The <code>treeOrder</code> function will take any number of orders and reduce them<br>to a single total value. For each order, I use pattern matching to get<br>the tree color, light type, and height. Using these values, I’m able to<br>get some price amounts which are all added to the total amount.</p>
<h3 id="Haskell-Solution"><a href="#Haskell-Solution" class="headerlink" title="Haskell Solution"></a><a href="#Haskell-Solution" title="Haskell Solution">Haskell Solution</a></h3><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Control.Monad</span><br><span class="line"></span><br><span class="line"><span class="title">treeOrder</span> :: [(<span class="type">String</span>, <span class="type">String</span>, <span class="type">Integer</span>)] -&gt; <span class="type">Maybe</span> <span class="type">Integer</span></span><br><span class="line"><span class="title">treeOrder</span> [] = <span class="type">Just</span> <span class="number">0</span></span><br><span class="line"><span class="title">treeOrder</span> orders = foldM (fmap . (+)) <span class="number">0</span> info</span><br><span class="line">  <span class="keyword">where</span> trees = [(<span class="string">&quot;red&quot;</span>,    <span class="number">250</span>)</span><br><span class="line">                ,(<span class="string">&quot;blue&quot;</span>,   <span class="number">200</span>)</span><br><span class="line">                ,(<span class="string">&quot;green&quot;</span>,  <span class="number">200</span>)</span><br><span class="line">                ,(<span class="string">&quot;yellow&quot;</span>, <span class="number">170</span>)</span><br><span class="line">                ,(<span class="string">&quot;silver&quot;</span>, <span class="number">340</span>)</span><br><span class="line">                ,(<span class="string">&quot;gold&quot;</span>,   <span class="number">400</span>)</span><br><span class="line">                ,(<span class="string">&quot;white&quot;</span>,  <span class="number">450</span>)]</span><br><span class="line">                </span><br><span class="line">        lights = [(<span class="string">&quot;unlit&quot;</span>,  <span class="number">0</span>)</span><br><span class="line">                ,(<span class="string">&quot;white&quot;</span>,  <span class="number">15</span>)</span><br><span class="line">                ,(<span class="string">&quot;multi&quot;</span>,  <span class="number">30</span>)</span><br><span class="line">                ,(<span class="string">&quot;single&quot;</span>, <span class="number">20</span>)]</span><br><span class="line">        </span><br><span class="line">        heights x</span><br><span class="line">          | x &lt;= <span class="number">5</span> = <span class="number">0</span></span><br><span class="line">          | x &lt;= <span class="number">6</span> = <span class="number">50</span></span><br><span class="line">          | x &lt;= <span class="number">7</span> = <span class="number">100</span></span><br><span class="line">          | x &lt;= <span class="number">8</span> = <span class="number">150</span></span><br><span class="line">          | otherwise = <span class="number">200</span></span><br><span class="line">        </span><br><span class="line">        (tree, light, height) = head orders</span><br><span class="line">        </span><br><span class="line">        info = [lookup tree trees</span><br><span class="line">               ,lookup light lights</span><br><span class="line">               ,<span class="type">Just</span> $ heights height</span><br><span class="line">               ,getTree $ tail orders]</span><br></pre></td></tr></table></figure>

<p>With Haskell, I define the lookup tables and height function inside the<br><code>where</code> clause of the <code>treeOrder</code> function. I am then using pattern<br>matching after the height function to get the tree, light, and height<br>values for the current order. <code>info</code> combines all the lookup values and<br>function value into a list. The last element of the info list is how all<br>orders will be added together, using recursion. So, the next orders<br>values will show up as the last element of the <code>info</code> list once it is<br>time to add everything together.</p>
<p>Once the full list has been calculated, I fold over the values to get a<br>single total value (like reduce).</p>
<h2 id="Problem-2-Tic-Tac-Toe"><a href="#Problem-2-Tic-Tac-Toe" class="headerlink" title="Problem 2 (Tic Tac Toe)"></a><a href="#Problem-2-Tic-Tac-Toe" title="Problem 2 (Tic Tac Toe)">Problem 2 (Tic Tac Toe)</a></h2><h3 id="Overview-1"><a href="#Overview-1" class="headerlink" title="Overview"></a><a href="#Overview-1" title="Overview">Overview</a></h3><p>Create an interface that users can play a game of tic tac toe on.</p>
<h3 id="Details-1"><a href="#Details-1" class="headerlink" title="Details"></a><a href="#Details-1" title="Details">Details</a></h3><ul>
<li>Users should be able to add their color (x or o) to the board.</li>
<li>When there are 3 of a color in any particular direction, that user<br>wins!</li>
<li>Function should take a move or multiple moves.</li>
<li>Input is expected to be valid to avoid adding too much complexity to<br>solutions.</li>
</ul>
<h3 id="Javascript-Solution-1"><a href="#Javascript-Solution-1" class="headerlink" title="Javascript Solution"></a><a href="#Javascript-Solution-1" title="Javascript Solution">Javascript Solution</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">transpose</span> = array =&gt;</span><br><span class="line">  array[<span class="number">0</span>].<span class="title function_">map</span>(<span class="function">(<span class="params">col, i</span>) =&gt;</span> array.<span class="title function_">map</span>(<span class="function"><span class="params">row</span> =&gt;</span> row[i]));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">move</span> = (<span class="params">board, moves, color</span>) =&gt; </span><br><span class="line">  moves.<span class="title function_">reduce</span>(<span class="function">(<span class="params">arr, [y,x]</span>) =&gt;</span> &#123;</span><br><span class="line">    arr[y][x] = color;</span><br><span class="line">    color = (color == <span class="string">&quot;x&quot;</span>) ? <span class="string">&quot;o&quot;</span> : <span class="string">&quot;x&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;, board);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">genBoard</span> = (<span class="params">x, y</span>) =&gt; </span><br><span class="line">  <span class="title class_">Array</span>(x).<span class="title function_">fill</span>().<span class="title function_">map</span>(<span class="function">() =&gt;</span> <span class="title class_">Array</span>(y).<span class="title function_">fill</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">check</span> = board =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getVal</span> = lst =&gt; [...<span class="keyword">new</span> <span class="title class_">Set</span>(lst)];</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">chk</span> = x =&gt; (<span class="title function_">getVal</span>(x).<span class="property">length</span> == <span class="number">1</span>) ? <span class="title function_">getVal</span>(x)[<span class="number">0</span>] : <span class="string">&quot;&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> horzCheck = board.<span class="title function_">map</span>(chk);</span><br><span class="line">  <span class="keyword">const</span> vertCheck = <span class="title function_">transpose</span>(board).<span class="title function_">map</span>(chk);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">diagonalCheck</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> [d1, d2] = [[],[]];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(x = <span class="number">0</span>; x &lt; board.<span class="property">length</span>; x++) &#123;</span><br><span class="line">      d1.<span class="title function_">push</span>(board[x][x]);</span><br><span class="line">      d2.<span class="title function_">push</span>(board[x][board[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span> - x]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [d1].<span class="title function_">map</span>(chk).<span class="title function_">concat</span>([d2].<span class="title function_">map</span>(chk));</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> result = [...horzCheck, ...vertCheck, ...<span class="title function_">diagonalCheck</span>()];</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(result.<span class="title function_">includes</span>(<span class="string">&quot;x&quot;</span>) &amp;&amp; result.<span class="title function_">includes</span>(<span class="string">&quot;o&quot;</span>)) <span class="keyword">return</span> <span class="string">&quot;Tie&quot;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(result.<span class="title function_">includes</span>(<span class="string">&quot;x&quot;</span>)) <span class="keyword">return</span> <span class="string">&quot;Black wins!&quot;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(result.<span class="title function_">includes</span>(<span class="string">&quot;o&quot;</span>)) <span class="keyword">return</span> <span class="string">&quot;White wins!&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;No one wins.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><em>Running a game in console</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">let</span> g = <span class="title function_">move</span>(<span class="title function_">genBoard</span>(<span class="number">3</span>,<span class="number">3</span>),[[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">0</span>]],<span class="string">&quot;x&quot;</span>)</span><br><span class="line">=&gt; <span class="literal">undefined</span></span><br><span class="line">&gt; <span class="title function_">check</span>(g)</span><br><span class="line">=&gt; <span class="string">&#x27;White wins!&#x27;</span></span><br></pre></td></tr></table></figure>

<p>I will go over the the code by line numbers to make it a little easier<br>to organize my thoughts.</p>
<p><strong>1</strong> - To make life easier, I first define a transpose function. It<br>will take an array and swap the columns and rows.</p>
<p><strong>4</strong> - <code>move</code> takes a board, move, and a color. It adds the moves to<br>the board using a <code>reduce</code>, on each loop in the reduce the color is<br>changed to the opposite color. It might be a little silly to use a<br><code>reduce</code>, but this way I can some avoid extra code.</p>
<p><strong>11</strong> - <code>genBoard</code> is a helper function for generating an array of<br>arrays that represents the tic tac toe board.</p>
<p><strong>15</strong> - <code>getVal</code> will return a list of unique values.</p>
<p><strong>17</strong> - <code>chk</code> is the general checker for sections of the board. If all<br>values in a section are the same then we return that value, else return<br>an empty string.</p>
<p><strong>19&#x2F;20</strong> - More specific checks for columns and rows of the board<br>(horizontal and vertical).</p>
<p><strong>22</strong> - Checking diagonals on the board is a little more tricky. By<br>incrementing both x and y index for each pass of a for loop I can get<br>the diagonal from left to right. If y is counting up and x is counting<br>down I can also get the right to left diagonal (line 27).</p>
<p><strong>35</strong> - Often I omit the curly braces on single line expressions. Just<br>seems cleaner and more readable. Depending on all the checks, the<br><code>check</code> function is now returning the correct message.</p>
<h3 id="Haskell-Solution-1"><a href="#Haskell-Solution-1" class="headerlink" title="Haskell Solution"></a><a href="#Haskell-Solution-1" title="Haskell Solution">Haskell Solution</a></h3><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List</span><br><span class="line"></span><br><span class="line"><span class="title">genBoard</span> :: <span class="type">Int</span> -&gt; <span class="type">Int</span> -&gt; [[<span class="type">String</span>]]</span><br><span class="line"><span class="title">genBoard</span> x y = take y $ cycle [take x $ repeat <span class="string">&quot;&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="title">move</span> :: [(<span class="type">Int</span>, <span class="type">Int</span>)] -&gt; [[<span class="type">String</span>]] -&gt; <span class="type">String</span> -&gt; [[<span class="type">String</span>]]</span><br><span class="line"><span class="title">move</span> [] board _ = board</span><br><span class="line"><span class="title">move</span> moves board color = move (tail moves) newBoard nextColor</span><br><span class="line">  <span class="keyword">where</span> mv = head moves</span><br><span class="line">        nextColor </span><br><span class="line">          | color == <span class="string">&quot;x&quot;</span> = <span class="string">&quot;o&quot;</span></span><br><span class="line">          | otherwise    = <span class="string">&quot;x&quot;</span></span><br><span class="line">        newRow = replace (fst mv) color (board !! (snd mv))</span><br><span class="line">        newBoard = replace (snd mv) newRow board</span><br><span class="line">        </span><br><span class="line">        replace n newVal (x:xs)</span><br><span class="line">          | n == <span class="number">0</span> = newVal:xs</span><br><span class="line">          | otherwise = x:replace (n-<span class="number">1</span>) newVal xs </span><br><span class="line"></span><br><span class="line"><span class="title">check</span> :: [[<span class="type">String</span>]] -&gt; <span class="type">String</span></span><br><span class="line"><span class="title">check</span> board</span><br><span class="line">  | <span class="string">&quot;o&quot;</span> `elem` result &amp;&amp; <span class="string">&quot;x&quot;</span> `elem` result = <span class="string">&quot;Tie&quot;</span></span><br><span class="line">  | <span class="string">&quot;o&quot;</span> `elem` result = <span class="string">&quot;White wins!&quot;</span></span><br><span class="line">  | <span class="string">&quot;x&quot;</span> `elem` result = <span class="string">&quot;Black wins!&quot;</span></span><br><span class="line">  | otherwise = <span class="string">&quot;No one wins.&quot;</span></span><br><span class="line">  <span class="keyword">where</span> chk x = foldl (\acc a -&gt; <span class="keyword">if</span> (length $ nub a) == <span class="number">1</span> <span class="keyword">then</span> a !! <span class="number">0</span>:acc <span class="keyword">else</span> acc) [] x</span><br><span class="line">        </span><br><span class="line">        horzCheck = chk board</span><br><span class="line">        vertCheck = chk $ transpose board</span><br><span class="line">        diagonalCheck = chk  </span><br><span class="line">          [zipWith (!!) board [<span class="number">0</span>..]</span><br><span class="line">          ,zipWith (!!) board [length board-<span class="number">1</span>,length board-<span class="number">2</span>..]]</span><br><span class="line">        </span><br><span class="line">        result = horzCheck ++ vertCheck ++ diagonalCheck</span><br></pre></td></tr></table></figure>

<p><em>Running a game in GHCi</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">let</span> g = game [(<span class="number">0</span>,<span class="number">0</span>),(<span class="number">2</span>,<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,<span class="number">2</span>),(<span class="number">1</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="number">2</span>),(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">2</span>,<span class="number">0</span>)] (genBoard <span class="number">3</span> <span class="number">3</span>) <span class="string">&quot;x&quot;</span></span><br><span class="line">&gt; check g</span><br><span class="line">=&gt; <span class="string">&quot;White wins!&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>1</strong> - Import a package in haskell, <code>Data.List</code> has some useful<br>functions like <code>transpose</code> (I had to make this in JS).</p>
<p><strong>3</strong> - <code>genBoard</code> is a helper function for generating a game board.<br>This will repeat an empty string <code>x</code> times and place it into a list. I<br>then take <code>y</code> out of an infinite cycle of the previous list, which<br>returns a list of lists with the correct dimensions. I could have also<br>used a list comprehension here, but I think this looks cleaner.</p>
<p><strong>6</strong> - This type signature for the function is kind of interesting. The<br><code>move</code> function takes a list of tuples representing the coordinates, a<br>list of lists containing strings (the board), and a string (representing<br>the color). It returns a new board.</p>
<p><strong>7</strong> - If there are no more moves to make then return the final board.<br>This is how the recursive function will stop.</p>
<p><strong>8</strong> - Haskell loves recursion, since there are possibly more moves, I<br>pass all the moves except the the current move back into the <code>move</code><br>function with the next color and updated board.</p>
<p><strong>11</strong> - The guard (similar to a switch(true)?) gets the next color, if<br>previous color was black then the next color will be white for example.</p>
<p><strong>13</strong> - <code>newRow</code> is the row with the new piece placed on it from move.<br>Since data is immutable in haskell, I can’t directly state<br><code>(board !! y !! x) = color</code>. Line 14 is the whole board, so once we have<br>the correct row, we then can place it into a new copy of the board. It’s<br>sort of confusing, but it gets the job done. I could have used<br><code>Control.Lens</code> but this method feels a bit cleaner.</p>
<p><strong>16</strong> - <code>replace</code> will go through the list one index at a time until n<br>is 0, once n is 0 it will replace the current item under it with the new<br>value. This function also uses recursion.</p>
<p><strong>21</strong> - <code>check</code> has a guard that will check the <code>result</code> for the<br>contents and then determine the appropriate message to display.</p>
<p><strong>26</strong> - I like to think that <code>foldl</code> is kind of like a JS <code>reduce</code>. The<br>rest of the fold is basically the same thought process as in JS, just<br>different syntax.</p>
<p><strong>31</strong> - Using <code>zipWith</code> I can write some fairly clean code to get the<br>diagonals of the board.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a><a href="#Conclusion" title="Conclusion">Conclusion</a></h2><p>Awesome stuff! It’s interesting to see two fairly different languages<br>side-by-side. There are definitely some similarities, such as the<br><code>guard</code> and <code>switch</code> or <code>foldl</code> and <code>reduce</code>. There are also<br>differences; Haskell being a statically typed for example. Try to find<br>your own similarities and differences, cheers!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-1-Christmas-Trees"><span class="toc-number">2.</span> <span class="toc-text">Problem 1 (Christmas Trees)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview"><span class="toc-number">2.1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Details"><span class="toc-number">2.2.</span> <span class="toc-text">Details</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Javascript-Solution"><span class="toc-number">2.3.</span> <span class="toc-text">Javascript Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Haskell-Solution"><span class="toc-number">2.4.</span> <span class="toc-text">Haskell Solution</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-2-Tic-Tac-Toe"><span class="toc-number">3.</span> <span class="toc-text">Problem 2 (Tic Tac Toe)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview-1"><span class="toc-number">3.1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Details-1"><span class="toc-number">3.2.</span> <span class="toc-text">Details</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Javascript-Solution-1"><span class="toc-number">3.3.</span> <span class="toc-text">Javascript Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Haskell-Solution-1"><span class="toc-number">3.4.</span> <span class="toc-text">Haskell Solution</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">4.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2017/11/30/JS-to-Haskell/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2017/11/30/JS-to-Haskell/&text=JS to Haskell"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2017/11/30/JS-to-Haskell/&is_video=false&description=JS to Haskell"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JS to Haskell&body=Check out this article: http://example.com/2017/11/30/JS-to-Haskell/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2017/11/30/JS-to-Haskell/&title=JS to Haskell"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2017/11/30/JS-to-Haskell/&name=JS to Haskell&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2017/11/30/JS-to-Haskell/&t=JS to Haskell"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2022
    Devin Miller
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
